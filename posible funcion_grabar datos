
// Funcion para grabar los datos de los alumnos en un fichero
// La función "grabarDatos" recibe como parámetros un puntero a un arreglo de estructuras de tipo "alumno",
// un entero "numAlumnos" y un puntero a una cadena de caracteres "nombreFichero", y guarda los datos de los
// alumnos en el archivo especificado por "nombreFichero" utilizando la función "fprintf" de la biblioteca "stdio.h".
// Si hay un error al abrir el archivo, la función imprime un mensaje de error.

void grabarDatos(struct alumno *alumnos, int numAlumnos, char *nombreFichero) {
    FILE *fichero = fopen(nombreFichero, "w");
    if (fichero == NULL) {
        printf("Error al abrir el fichero\n");
        return;
    }

    //La función utiliza dos "for" anidados para recorrer los elementos del arreglo de estructuras "alumnos"
    // y escribir sus datos en el archivo especificado.

    // El primer "for" recorre cada uno de los elementos del arreglo, desde el índice 0 hasta "numAlumnos-1".
    // Dentro de este "for" se encuentra el segundo "for", que recorre las notas de cada alumno, desde el índice
    // 0 hasta 4.

    // En cada iteración del primer "for", se escriben los datos del alumno correspondiente en el
    // archivo utilizando "fprintf" y en cada iteración del segundo "for" se escriben las notas
    // de las asignaturas de ese alumno en el archivo.

    for (int i = 0; i < numAlumnos; i++) {
        fprintf(fichero, "%s,%s,%s,%d,%s,", alumnos[i].dni, alumnos[i].nombre, alumnos[i].apellidos, alumnos[i].curso, alumnos[i].email);
        for (int j = 0; j < 5; j++) {
            fprintf(fichero, "%.2f,", alumnos[i].asignaturas[j]);
        }
        fprintf(fichero, "%.2f\n", alumnos[i].media);
    }

    //La función "fclose" se utiliza al final de la función para cerrar el archivo. Es importante cerrar
    // el archivo después de utilizarlo para liberar los recursos del sistema y evitar problemas de
    // corrupción de datos o de seguridad.

    fclose(fichero);
}
